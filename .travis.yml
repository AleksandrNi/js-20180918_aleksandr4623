sudo: required
dist: trusty
addons:
  artifacts:
    paths:
      - results
  apt:
    sources:
      - google-chrome
    packages:
      - google-chrome-stable
language: node_js
node_js:
  - '7'
cache:
  directories:
    - node_modules
    - bower_components
    - $HOME/.npm
    - $HOME/.cache
before_script:
  - npm install
before_deploy:
  - npm run build
env:
  global:
    - NODE_ENV=testing
    - ARTIFACTS_BUCKET=js-tasks-ru
    - secure: >-
        B2ZLXYR5h+hjk4MuK/FdzDTycyg7HkAD9YBlMoJwQM7OGannbNH1r7i0OGyr15nigOVe0mZcSpYE2CQUNOkYeiIqwkFxUuExabDJGnr/Egz2R+9pzN+MjLWyBBTRyrMkv1stFD0O8uGSK9LUrXinLhZKMkz2rWQZUH/hC5956+2NNdLFURmr1ioTPxj5Im2FlkA2I6Dieo5e4pVeBTAzMHXcf7LFAakZsiVkWWWPdkYo8mPqbxNkicISZg+Qh9h6vU7TeAmY/de5Q0Fj7zRXLVxtW2SB3Me/61qPk1p4AOQducmLM//grnpn6z7uGDqexdfGv8NtLztjMqoVBwKFsFxBd26cCBmp2sZ/3n1Tw3CRFUcxODt45tH+LFFVTkkdPbHDFvDn10vIio/bvQG4eRjfu9UsByF5CA/MByPmtiJyVml8xqLspRYXBh6WD5w9z9t7FW0wW6r6fDINofJKBtwDCSb320/YdCxddDmpjjH6pedkv17c8dGwpnnGyPO9qVgtJolHnjZogXkvl1iVvnDW8eBac+x37NNDoaHzpeUUHEqk1pOzTb/a4P0gMjKKfLqe8nhxuw8p7c5UzlU39D5kiiqwg9Rp8kAb7uGoOF+UGREkK354ZIAxl/j+yFC6AR10U9EeU+UTmKUF1xrt2CJUxsZh47aiLOQxHh4DCjs=
    - secure: >-
        i+nFfyxXmNPdD0eDpLsgBgF7tQbxK0N6Xplnu0XWMa+5kGEp3NZmgry5wkpkyJfXHOWQ946XPJK+YRbX6ACJjfnzXXEFDC7K3fdIlHKEzET0lP/hgFakuGTym3r9ZWuD/OXLcu+ok1LtODRlLZTM70rKUxn4Nw5yDLJ1SVbhgCL9Nhnc031LYeEbc8lLahZogDi+kUh9dpHNiNlahG0adPqUX7WwEovQrq0P7ye+w0VHoC39OWhv+MSJLHwCP83OBoT1SViRJMhcgqRrG1CEwPDHTFrxX7cgxFP7WmK83ul14Gd3IWRwHOGLXlHu5ALZ6V73xIF/uV7Vbnz0HtPLRxT3+Jel8ByAeqdL0a6TiTY8Ca+gCP37bLrfNEJcFmvttqRCBwphYV5Z7HIaRArpubDMAxFpoR3XlbNyBP9TkzXNNvKUqDtq9nOtppDLaSjtunch8DQmf3I8vQAgQQxoyC1waTTZk/sYIRy4B2zPVDyQK1tzdH+LzrTUnXtlhzrM1H+XMu6bccqnM8F67Pb7uprO5fXQugG6GChmJBOGQtqXl7fTJlFyywI6p328GqdY5HsLMeERhmqSOuCMsv3q5TGJo+jBUnJcT/InAwqAi+a0icuWWC3aPo2U1v6mfCLcbSJLg7/jkkX9MY/qee9Vbn++Qzu8sKFb0NF7H7nc0uk=
script:
  - npm run test
notifications:
  webhooks: 'http://learn.javascript.ru/automation/ci/build'
